name: onvif_camera
metadata:
  deviceType: Camera          # Declares the device as a camera
  ocfDeviceType: x.com.st.d.camera  # Optional: OCF device type for cameras
  vid: generic-camera         # Optional: Vendor ID
  mnmn: SmartThings           # Optional: Manufacturer name
components:
  - id: motion
    label: Motion Events
    capabilities:
      - id: motionSensor
        version: 1
      - id: partyvoice23922.motionevents2
        version: 1
  - id: line
    label: Line Cross Events
    capabilities:
      - id: partyvoice23922.linecross
        version: 1
  - id: tamper
    label: Tamper Events
    capabilities:
      - id: tamperAlert
        version: 1
  - id: audio
    label: Audio Communication
    capabilities:
      - id: audioCapture
        version: 1
      - id: audioOutput
        version: 1
  - id: info
    label: Utility
    capabilities:
      - id: partyvoice23922.onvifstatus
        version: 1
      - id: partyvoice23922.onvifinfo
        version: 1
      - id: partyvoice23922.refresh
        version: 1
  - id: video
    label: Video Stream
    capabilities:
      - id: videoStream
        version: 1
    categories:
      - name: Camera            # Ensures Video Widget compatibility
preferences:
  - title: "Command Timeout"
    name: commandtimeout
    description: "Seconds for ONVIF command timeout"
    required: false
    preferenceType: integer
    definition:
      minimum: 1
      maximum: 30
      default: 5